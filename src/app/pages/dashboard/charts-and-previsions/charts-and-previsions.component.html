

<!-- {{Prevision | json}}
--{{ValueT}}-- -->
<!-- *{{listP | json}}* -->
<!-- <ng-container *ngFor="let n of listT ,let i =index"  > 

{{n.day}}

</ng-container> -->

  <!-- {{ChartV | json}}<br>
  {{ChartT | json}}<br>
  {{ChartH | json}}<br>
  {{ChartUV | json}}<br>
  {{ChartP | json}}<br>
  {{ChartL | json}}<br> -->
  <!-- {{LightBool | json}}<br> -->
  <!-- {{ChartT | json}}<br> -->
<div class="row">
    <div class="col-12">
      <nb-card size="large"  >
        <nb-tabset style="display: block;" fullWidth>
          <!-- overflow: hidden -->
          <nb-tab style="padding: 25px 0px;" [tabIcon]="TIcon" [lazyLoad]="false">
          <nb-tabset  fullWidth>
              <nb-tab style=" overflow: scroll;  padding: 30px 15px 0 0 ;"  (changeTab)="selectTab($event)"   tabTitle="Historique des mesures des températures sur 7 jours" [lazyLoad]="false">
                <div class="chart-container">
                   <ngx-echarts-multiple-xaxis  [temperature]="ChartT"></ngx-echarts-multiple-xaxis> 
                </div>
                <table   class="rwd-table">
                  <tr>
                    
                    <th *ngIf="idCapteurT"  class="MyData">ID_Capteur :    {{idCapteurT}} </th>
                    <th *ngIf="!idCapteurT"  class="MyData">Capteur  {{typeT}} </th>
                    <th class="MyData">{{'dashboard.nomber_mesure'| translate}} :   {{nbrT}}  </th>
                    <th class="MyData">{{'dashboard.d_mesure'| translate}} :   {{lastT | number : '1.2-2'}}   °C</th>
                  </tr>
                  <tr>
                    <th style="background-image: linear-gradient(to left, #94cbff, #42aaff);" class="MyData">Min :   {{minT  | number : '1.2-2'}} °C</th>
                    <th style="background-image: linear-gradient(to left, #ffd359, #ffc94d);color:rgb(44, 43, 43)" class="MyData" >Moyenne :  <b *ngIf="meanT"> {{meanT  | number : '1.2-2'}} °C</b> </th>
                    <th style="background-image: linear-gradient(to left, #ffa8b4, #ff708d);" class="MyData">Max :   {{maxT  | number : '1.2-2'}}  °C</th>
                  
                  </tr>
                </table>
              </nb-tab>
              <nb-tab style="text-align: center;overflow-y: hidden;" tabTitle="Prévisions sur 5 jours" >
              
               <div style="margin-top:0px !important;" class="weather-wrapper">
                
                     <ng-container *ngFor="let n of listT ,let i =index"  > 
                    <ng-container  *ngIf="i < 7">
                <div   [ngStyle]="{'box-shadow' : (i == 0) ? '1px 0px 16px 0px #0095ff':''}"  class="weather-card london"  >
                   <img style="background: radial-gradient(circle, rgba(57, 63, 0, 0.274) 0%, rgba(148,187,233,0%) 65%); 
                  " class="weather-icon" src="../../../assets/images/temperature_forcast.png" />


                  <h5>{{n.mean | number : '1.2-2'}} °C</h5>
                  <p class="small_max">max : {{n.max   | number : '1.2-2'}} m/s</p>
                  <p class="small_min">min : {{n.min   | number : '1.2-2'}} m/s</p>
                    <p>{{n.day }}</p>
                    
              </div>
            </ng-container>
            </ng-container>
              </div>   <!---->

              



            <table style="margin-top:20px !important;"  class="rwd-table">
                <tr>
                  <th class="MyData">Capteur : Virtuel  </th>
                  <th class="MyData">Nombre de mesure : 5 </th>
                </tr>
              </table>
              </nb-tab>    
            </nb-tabset>

          
          </nb-tab>
          <nb-tab style="overflow: hidden;padding: 25px 0px;" [tabIcon]="HIcon">
            <nb-tabset  fullWidth>
              <nb-tab   tabTitle="Historique des mesures de l'humidité sur 7 jours" [lazyLoad]="false">
                <ngx-echarts-bar-animation  [humidity]="ChartH"></ngx-echarts-bar-animation>
                <table   class="rwd-table">
                    <tr>
                        <th *ngIf="idCapteurH"  class="MyData">ID_Capteur :    {{idCapteurH}} </th>
                    <th *ngIf="!idCapteurH"  class="MyData">Capteur {{typeH}} </th>
                      
                      <th class="MyData">Nombre de mesure :   {{nbrH}}  </th>
                      <th class="MyData">Dérniere Mesure :   {{lastH | number : '1.2-2'}}   %</th>
                    </tr>
                    <tr>
                      <th style="background-image: linear-gradient(to left, #94cbff, #42aaff);" class="MyData">Min :   {{minH | number : '1.2-2'}} %</th>
                      <th style="background-image: linear-gradient(to left, #ffd359, #ffc94d);color:rgb(44, 43, 43)" class="MyData">Moyenne :   {{meanH | number : '1.2-2'}} %</th>
                      <th style="background-image: linear-gradient(to left, #ffa8b4, #ff708d);" class="MyData">Max :   {{maxH | number : '1.2-2'}}  %</th>
                    
                    </tr>
                  </table>
              </nb-tab>
              <nb-tab style="text-align: center;overflow-y: hidden;" tabTitle="Prévisions sur 5 jours" >
              
                <div style="margin-top:0px !important;" class="weather-wrapper" *ngIf="!isEmptyObject(listH)">
                  <ng-container *ngFor="let n of listH ,let i =index"  > 
                    <ng-container  *ngIf="i < 7">
                <div   [ngStyle]="{'box-shadow' : (i == 0) ? '1px 0px 16px 0px #0095ff':''}"  class="weather-card london"  >
              
                  <img style="background: radial-gradient(circle, rgba(57, 63, 0, 0.274) 0%, rgba(148,187,233,0%) 65%); 
                  " class="weather-icon" src="../../../assets/images/humidity_forcast.png" />





                  <h5>{{n.mean }} %</h5>
                  <p class="small_max">max : {{n.max   | number : '1.2-2'}} %</p>
                  <p class="small_min">min : {{n.min   | number : '1.2-2'}} %</p>
                    <p>{{n.day }}</p>
                  
              </div>
            </ng-container>
            </ng-container>
              </div>
              
              <table style="margin-top:20px !important;"  class="rwd-table">
                <tr>
                  <th class="MyData">Capteur : Virtuel  </th>
                  <th class="MyData">Nombre de mesure : 5 </th>
                </tr>
              </table>
              
              
              </nb-tab>    
            </nb-tabset>





          </nb-tab>
          <nb-tab   style="text-align: center;overflow: hidden;padding: 25px 0px;" [tabIcon]="VentIcon">
          

            <nb-tabset   fullWidth>
                <nb-tab   tabTitle="Historique de Vent sur 7 jours" [lazyLoad]="false">
                    <ngx-echarts-bar-animation *ngIf="!isEmptyObject(ChartV)" [Vent]="ChartV"></ngx-echarts-bar-animation>
                    <table   class="rwd-table">
                        <tr>
                            <th *ngIf="idCapteurV"  class="MyData">ID_Capteur :    {{idCapteurV}} </th>
                            <th *ngIf="!idCapteurV"  class="MyData">Capteur {{typeV}} </th>
                            <th class="MyData">Nombre de mesure :   {{nbrV}}  </th>
                            <th class="MyData">Dérniere Mesure :   {{lastV | number : '1.2-2'}}   m/s</th>
                          </tr>
                          <tr>
                            <th style="background-image: linear-gradient(to left, #94cbff, #42aaff);" class="MyData">Min :   {{minV  | number : '1.2-2'}} m/s</th>
                            <th style="background-image: linear-gradient(to left, #ffd359, #ffc94d);color:rgb(44, 43, 43)" class="MyData">Moyenne :   {{meanV  | number : '1.2-2'}}  m/s</th>
                            <th style="background-image: linear-gradient(to left, #ffa8b4, #ff708d);" class="MyData">Max :   {{maxV  | number : '1.2-2'}}  m/s</th>
                          
                          </tr>
                    </table>
                  </nb-tab>
              <nb-tab   tabTitle="Prévisions des vitesses de vent sur 5 jours" [lazyLoad]="false">
                <div class="weather-wrapper" *ngIf="!isEmptyObject(listV)" >
                  <ng-container *ngFor="let n of listV,let i =index"  > 
                    <ng-container  *ngIf="i < 7">
                <div   [ngStyle]="{'box-shadow' : (i == 0) ? '1px 0px 16px 0px #0095ff':''}"  class="weather-card london"  >
                <svg class="icon icon-windy" viewBox="-10 0 220 220">
                           <g class="small-cloud">
                    <path fill="#3ba2f4" d="M69.054,67.463c-5.109-9.405-15.105-15.409-25.866-15.409c-14.947,0-27.066,10.456-29.036,24.651
                      C6.634,78.396,1,85.121,1,93.143c0,9.293,7.561,16.854,16.853,16.854c3.911,0,7.547-1.27,10.472-3.617
                      c4.715,3.022,9.6,4.497,14.864,4.497c4.978,0,8.361-0.792,12.25-2.944c3.312,1.927,7.053,2.944,10.932,2.944
                      c12.016,0,21.792-9.776,21.792-21.792C88.162,77.976,79.807,68.789,69.054,67.463z"/></g>
                          
              <g class="cloud-offset-border" transform="matrix(1.051309, 0, 0, 1.047619, -4.433163, -6.209879)" >
                <path fill="#555" d="M113.903,179.264c-6.173,0-12.273-1.229-17.931-3.585 c-6.062,2.515-12.218,3.585-19.999,3.585c-8.325,0-16.356-1.866-23.959-5.559c-5.329,2.711-11.262,4.119-17.492,4.119 c-21.27,0-38.574-17.306-38.574-38.576c0-15.345,9.325-29.175,22.996-35.269c6.653-25.268,29.615-42.96,57.029-42.96 c19.873,0,38.259,9.958,49.18,26.313c20.532,5.085,35.406,23.653,35.406,45.276C160.56,158.334,139.63,179.264,113.903,179.264z"/>
              </g>
                          <g class="cloud-offset">
                          <path fill="#3ba2f4" d="M113.903,179.264c-6.173,0-12.273-1.229-17.931-3.585
                      c-6.062,2.515-12.218,3.585-19.999,3.585c-8.325,0-16.356-1.866-23.959-5.559c-5.329,2.711-11.262,4.119-17.492,4.119
                      c-21.27,0-38.574-17.306-38.574-38.576c0-15.345,9.325-29.175,22.996-35.269c6.653-25.268,29.615-42.96,57.029-42.96
                      c19.873,0,38.259,9.958,49.18,26.313c20.532,5.085,35.406,23.653,35.406,45.276C160.56,158.334,139.63,179.264,113.903,179.264z"/></g>
                    
                          <g class="main-cloud">
                    <path fill="#3ba2f4" d="M118.294,97.231c-8.359-15.388-24.715-25.212-42.32-25.212c-24.457,0-44.283,17.108-47.506,40.333
                      c-12.301,2.767-21.52,13.771-21.52,26.896c0,15.205,12.369,27.576,27.574,27.576c6.396,0,12.348-2.078,17.133-5.917
                      c7.713,4.944,15.705,7.356,24.318,7.356c8.145,0,13.68-1.295,20.043-4.816c5.418,3.152,11.541,4.816,17.887,4.816
                                            c19.662,0,35.656-15.996,35.656-35.656C149.56,114.432,135.888,99.401,118.294,97.231z"/></g>
                          <g class="wind-string">
                      <path fill="none" stroke="#43637D" stroke-miterlimit="10" d="M85.263,105.176
                        c3.002-1.646,6.403-2.549,9.903-2.549c11.375,0,20.633,9.256,20.633,20.633s-9.258,20.633-20.633,20.633H3.473"/>
                      <path fill="none" stroke="#43637D" stroke-miterlimit="10" d="M69.756,113.884
                        c1.62-0.888,3.457-1.376,5.345-1.376c6.14,0,11.136,4.996,11.136,11.137c0,6.14-4.996,11.136-11.136,11.136H25.313"/>
                      <path fill="none" stroke="#43637D" stroke-miterlimit="10" d="M75.536,180.462
                        c2.131,1.166,4.545,1.809,7.027,1.809c8.072,0,14.642-6.569,14.642-14.643s-6.569-14.643-14.642-14.643H18.043"/>
                    </g>
                    </svg>
                  <h5>{{n.mean   | number : '1.2-2'}} m/s</h5>
                  <p class="small_max">max : {{n.max   | number : '1.2-2'}} m/s</p>
                  <p class="small_min">min : {{n.min   | number : '1.2-2'}} m/s</p>
                    <p>{{n.day }}</p>
                  
              </div>
            </ng-container>
            </ng-container>
              
            
            </div>
            <table   class="rwd-table">
              <tr>
                <th class="MyData">Capteur : Virtuel  </th>
                <th class="MyData">Nombre de mesure : 5 </th>
              </tr>
            </table>
              </nb-tab>
              
            </nb-tabset>


  
            
          </nb-tab>
          <nb-tab *ngIf="idCapteurL"  style="text-align: center;overflow: hidden;padding: 25px 0px;"    [tabIcon]="lightIcon">
           


            <nb-tabset   fullWidth>
              
              <nb-tab style="text-align: center;overflow-y: hidden;" tabTitle="Historique des mesures de luminosité sur 7 jours" >
             
                <ngx-echarts-bar-animation  [luminosite]="ChartL"></ngx-echarts-bar-animation>
              
                <table   class="rwd-table">
                    <tr>
                        <th *ngIf="idCapteurL"  class="MyData">ID_Capteur :    {{idCapteurL}} </th>
                        <th *ngIf="!idCapteurL"  class="MyData">Capteur {{typeL}} </th>
                        <th class="MyData">Nombre de mesure :   {{nbrL}}  </th>
                        <th class="MyData">Dérniere Mesure :   {{lastL | number : '1.2-2'}}   (lux)</th>
                      </tr>
                      <tr>
                        <th style="background-image: linear-gradient(to left, #94cbff, #42aaff);" class="MyData">Min :   {{minL  | number : '1.2-2'}} (lux)</th>
                        <th style="background-image: linear-gradient(to left, #ffd359, #ffc94d);color:rgb(44, 43, 43)" class="MyData">Moyenne :   {{meanL  | number : '1.2-2'}}  (lux)</th>
                        <th style="background-image: linear-gradient(to left, #ffa8b4, #ff708d);" class="MyData">Max :   {{maxL  | number : '1.2-2'}}  (lux)</th>
                      
                      </tr>
                </table>
              
              </nb-tab>    
            </nb-tabset>




                
             
          </nb-tab>









          <nb-tab  style="text-align: center;overflow: hidden;padding: 25px 0px;" style="text-align: center;" [tabIcon]="UVIcon">
          

            <nb-tabset  fullWidth>
                <nb-tab   tabTitle="Historique Ultraviolet " [lazyLoad]="false">
                    <ngx-echarts-bar-animation *ngIf="!isEmptyObject(ChartUV)" [UV]="ChartUV"></ngx-echarts-bar-animation>
                <table   class="rwd-table">
                  <tr>
                    <th class="MyData">Capteur : Virtuel  </th>
                    <th class="MyData">Nombre de mesure : 7 </th>
                  </tr>
                </table>
                  </nb-tab> <nb-tab   tabTitle="Prévisions Ultraviolet sur 7 jours" [lazyLoad]="false">
                    <div class="weather-wrapper" *ngIf="!isEmptyObject(listUV)" >
                       <ng-container *ngFor="let n of listUV ,let i =index"  > 
                        <ng-container  *ngIf="i < 7">
                    <div   [ngStyle]="{'box-shadow' : (i == 0) ? '1px 0px 16px 0px #0095ff':''}"  class="weather-card london"  >
                    
                      <div class="element"></div>
    
                      <h5>{{n.value}} uv</h5>
                         <p>{{n.day}}</p>
                      
                  </div>
                
                </ng-container>
              </ng-container>
                  
                
                </div>
                <table   class="rwd-table">
                  <tr>
                    <th class="MyData">Capteur : Virtuel  </th>
                    <th class="MyData">Nombre de mesure : 7 </th>
                  </tr>
                </table>
                  </nb-tab>
              
            </nb-tabset>


  
            
          </nb-tab>

























          <nb-tab [tabIcon]="PluIcon">
 
            <nb-tabset  fullWidth>
              <nb-tab style="overflow-y: hidden;" tabTitle="Historiques sur 60 jours" [lazyLoad]="false">
                 <ng-container *ngIf="!isEmptyObject(ChartP)">
            <ngx-echart-pluvio [data]="ChartP"></ngx-echart-pluvio>
            <table style="margin-top:20px !important;"  class="rwd-table">
                <tr>
                  <th class="MyData">Capteur : Virtuel  </th>
                  <th class="MyData">Nombre Jours : 60 </th>
                </tr>
              </table>
          </ng-container><!-- -->
          <!--  -------------{{ChartP | json}} -->
              </nb-tab>
              <nb-tab style="text-align: center;overflow-y: hidden;" tabTitle="Prévisions sur 5 jours" >
                
                <div style="margin-top:0px !important;" class="weather-wrapper" *ngIf="!isEmptyObject(listP)">
                  <ng-container *ngFor="let n of listP ,let i =index"  > 
                    <ng-container  *ngIf="i < 7">
                <div   [ngStyle]="{'box-shadow' : (i == 0) ? '1px 0px 16px 0px #0095ff':''}"  class="weather-card london"  >
                
                  <img style="background: radial-gradient(circle, rgba(57, 63, 0, 0.274) 0%, rgba(148,187,233,0%) 65%); 
                  " class="weather-icon" [src]="n.url_icon"/>
                  <h5>{{n.sum}} mm</h5>
                  <p>{{n.day }}</p>
                  
              </div>
            </ng-container>
            </ng-container>
              </div>
              
              <table style="margin-top:20px !important;"  class="rwd-table">
                <tr>
                  <th class="MyData">Capteur : Virtuel  </th>
                  <th class="MyData">Nombre Mesure : 5 </th>
                </tr>
              </table>
              
              
              </nb-tab>    
            </nb-tabset>




            

          </nb-tab>
        </nb-tabset>
      </nb-card>
    </div> 
     


  </div>
  