import { Component, OnInit } from '@angular/core';
import { ExploitationService } from 'app/_services/exploitation.service'
import { PopupService } from './add-modal/popup.service';

@Component({
  selector: 'ngx-exploitations',
  templateUrl: './exploitations.component.html',
  styleUrls: ['./exploitations.component.scss']
})
export class ExploitationsComponent {
exploitation: any = [];
area: any = [];
total;
  constructor(private expService: ExploitationService,private modalService: PopupService) { }

  ngOnInit() {
     this.getExpl();
  }
  getExpl(){
    this.expService.getExploitations().subscribe(item=>{
      console.log(item['features']);
      this.exploitation = item['features'];
      item['features'].forEach(element => {
        
        this.area.push(element.properties.superficie);
      });
      
    }).add(i=>{
      
     this.total = this.area.reduce((a, b) => a + b, 0)
    
    })
    
  }

  deleteExp(){
  }
  openModal(id){
this.modalService.open(id);
  }
//   updateExp(event){
// console.log(event);
//   }


 

}
